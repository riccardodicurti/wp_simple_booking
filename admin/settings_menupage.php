<?php
/**
 * Generated by the WordPress Option Page generator at http://jeremyhixon.com/wp-tools/option-page/
 */

class WordPressSimpleBooking {
	private $wordpress_simple_booking_options;

	public function __construct() {
		add_action( 'admin_menu', array( $this, 'wordpress_simple_booking_add_plugin_page' ) );
		add_action( 'admin_init', array( $this, 'wordpress_simple_booking_page_init' ) );
	}

	public function wordpress_simple_booking_add_plugin_page() {
		add_menu_page(
			'WordPress Simple Booking', // page_title
			'WordPress Simple Booking', // menu_title
			'manage_options', // capability
			'wordpress-simple-booking', // menu_slug
			array( $this, 'wordpress_simple_booking_create_admin_page' ), // function
			'dashicons-building', // icon_url
			65 // position
		);
	}

	public function wordpress_simple_booking_create_admin_page() {
		$this->wordpress_simple_booking_options = get_option( 'wordpress_simple_booking_option_name' ); ?>

		<div class="wrap">
			<h2>WordPress Simple Booking</h2>
			<p></p>
			<?php settings_errors(); ?>

			<form method="post" action="options.php">
				<?php
					settings_fields( 'wordpress_simple_booking_option_group' );
					do_settings_sections( 'wordpress-simple-booking-admin' );
					submit_button();
				?>
			</form>
		</div>
	<?php }

	public function wordpress_simple_booking_page_init() {
		register_setting(
			'wordpress_simple_booking_option_group', // option_group
			'wordpress_simple_booking_option_name', // option_name
			array( $this, 'wordpress_simple_booking_sanitize' ) // sanitize_callback
		);

		add_settings_section(
			'wordpress_simple_booking_setting_section', // id
			'Settings', // title
			array( $this, 'wordpress_simple_booking_section_info' ), // callback
			'wordpress-simple-booking-admin' // page
		);

		add_settings_field(
			'default_license_code_0', // id
			'Default license code', // title
			array( $this, 'default_license_code_0_callback' ), // callback
			'wordpress-simple-booking-admin', // page
			'wordpress_simple_booking_setting_section' // section
		);

		add_settings_field(
			'default_availability_locale_1', // id
			'Default availability locale', // title
			array( $this, 'default_availability_locale_1_callback' ), // callback
			'wordpress-simple-booking-admin', // page
			'wordpress_simple_booking_setting_section' // section
		);

		add_settings_field(
			'default_language_code_2', // id
			'Default language code', // title
			array( $this, 'default_language_code_2_callback' ), // callback
			'wordpress-simple-booking-admin', // page
			'wordpress_simple_booking_setting_section' // section
		);
	}

	public function wordpress_simple_booking_sanitize($input) {
		$sanitary_values = array();
		if ( isset( $input['default_license_code_0'] ) ) {
			$sanitary_values['default_license_code_0'] = sanitize_text_field( $input['default_license_code_0'] );
		}

		if ( isset( $input['default_availability_locale_1'] ) ) {
			$sanitary_values['default_availability_locale_1'] = sanitize_text_field( $input['default_availability_locale_1'] );
		}

		if ( isset( $input['default_language_code_2'] ) ) {
			$sanitary_values['default_language_code_2'] = sanitize_text_field( $input['default_language_code_2'] );
		}

		return $sanitary_values;
	}

	public function wordpress_simple_booking_section_info() {

	}

	public function default_license_code_0_callback() {
		printf(
			'<input class="regular-text" type="text" name="wordpress_simple_booking_option_name[default_license_code_0]" id="default_license_code_0" value="%s">',
			isset( $this->wordpress_simple_booking_options['default_license_code_0'] ) ? esc_attr( $this->wordpress_simple_booking_options['default_license_code_0']) : ''
		);
	}

	public function default_availability_locale_1_callback() {
		printf(
			'<input class="regular-text" type="text" name="wordpress_simple_booking_option_name[default_availability_locale_1]" id="default_availability_locale_1" value="%s">',
			isset( $this->wordpress_simple_booking_options['default_availability_locale_1'] ) ? esc_attr( $this->wordpress_simple_booking_options['default_availability_locale_1']) : ''
		);
	}

	public function default_language_code_2_callback() {
		printf(
			'<input class="regular-text" type="text" name="wordpress_simple_booking_option_name[default_language_code_2]" id="default_language_code_2" value="%s">',
			isset( $this->wordpress_simple_booking_options['default_language_code_2'] ) ? esc_attr( $this->wordpress_simple_booking_options['default_language_code_2']) : ''
		);
	}
}

if ( is_admin() ) {
    $wordpress_simple_booking = new WordPressSimpleBooking();
}